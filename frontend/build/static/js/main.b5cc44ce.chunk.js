(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(13),c=n.n(l),i=(n(63),n(3)),o=n(11),s=n.n(o),u=n(16),d=n(12),m=n(18),f=n(54),p=n(32),v=n.n(p),h=function e(){Object(f.a)(this,e)};h.buildJsonTree=function(e){return new Promise(function(){var t=Object(u.a)(s.a.mark((function t(n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.post("".concat("","/api/bt/v3/bjs"),JSON.stringify({expression:e}),{headers:{"Content-Type":"application/json"}}).then(n).catch(a);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},h.imgToText=function(e){return new Promise(function(){var t=Object(u.a)(s.a.mark((function t(n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.post("".concat("","/api/base/tfi"),JSON.stringify({encodedImage:e}),{headers:{"Content-Type":"application/json"}}).then(n).catch(a);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())};var b=n(55),E=n.n(b),g=function(e){var t=e.treeForBuild,n=Object(a.useState)(t),l=Object(d.a)(n,2),c=l[0],i=l[1];function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#45526e";t.noStroke(),t.fill(n),t.push(),t.scale(e),t.beginShape(),t.vertex(-75,-130),t.vertex(75,-130),t.vertex(150,0),t.vertex(75,130),t.vertex(-75,130),t.vertex(-150,0),t.endShape(t.close),t.pop()}return Object(a.useEffect)((function(){return i(t)}),[t]),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(E.a,{setup:function(e,t){e.createCanvas(1800,700).parent(t),e.textSize(20),e.textFont("Roboto Mono"),e.stroke(60)},draw:function(e){e.clear(),e.translate(900,60),function e(t,n,a){switch((null===t||void 0===t?void 0:t.left)&&(null===t||void 0===t?void 0:t.right)&&(n.stroke(60),n.push(),n.line(0,0,-a,100),n.translate(-a,100),e(t.left,n,.51*a),n.pop(),n.push(),n.line(0,0,a,100),n.translate(a,100),e(t.right,n,.51*a),n.pop(),n.noStroke()),t.color){case-1:o(.22,n);break;case 1:o(.22,n,"#1976d2");break;case 2:o(.22,n,"#303f9f");break;case 3:o(.32,n,"#1976d2");break;default:o(.22,n)}n.fill("#eee");var r=String(null===t||void 0===t?void 0:t.value);if(r.length<=2)n.text(r,-10,10);else{var l=3===r.length?r:r.substr(0,3)+"...";n.text(l,-16,10)}}(c,e,350)}}))},x=function(){return r.a.createElement("div",{className:"fixed-layout"},r.a.createElement("div",{className:"spinner-container"},Array.from(Array(16),(function(e,t){return r.a.createElement("div",{key:t,className:"block"})}))))};var y=function(e){return new Promise((function(t){return setTimeout(t,e)}))},w=function(e){var t=e.icon,n=e.label,a=e.val,l=e.mathFont;return r.a.createElement("div",null,r.a.createElement(i.h,{icon:t||""}),r.a.createElement("span",{style:{marginRight:10,color:"#777",padding:2,fontStyle:"italic"}},n),r.a.createElement("span",{className:l?"step-desc":"math",style:{color:"#444",padding:0}},a))},j=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(!1),o=Object(d.a)(c,2),f=o[0],p=o[1],v=Object(a.useState)(!1),b=Object(d.a)(v,2),E=b[0],j=b[1],k=Object(a.useState)({}),O=Object(d.a)(k,2),S=O[0],C=S.equation,z=S.VSAEExpression,T=S.result,D=S.steps,N=O[1],F=Object(a.useState)(0),q=Object(d.a)(F,2),A=q[0],I=q[1],J=Object(a.useState)(!1),L=Object(d.a)(J,2),R=L[0],P=L[1],V=Object(a.useState)(0),B=Object(d.a)(V,2),K=B[0],M=B[1],U=function(e){var t=Object(m.useToasts)().addToast,n=Object(a.useState)(!1),r=Object(d.a)(n,2),l=r[0],c=r[1],i=Object(a.useState)(null),o=Object(d.a)(i,2),f=o[0],p=o[1];return Object(a.useEffect)((function(){var n=new FileReader;if(0!==e){var a=document.createElement("input");a.type="file",a.style.visibility="hidden",setTimeout((function(){return a.click()}),200),a.onchange=function(){c(!0);var e=a.files[0];n.addEventListener("load",Object(u.a)(s.a.mark((function e(){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.result,e.next=3,h.imgToText(a);case 3:return r=e.sent,e.next=6,y(500);case 6:r.data.error?t(r.data.error,{appearance:"error",autoDismiss:!0}):p({responseEquation:r.data.equation}),c(!1);case 8:case"end":return e.stop()}}),e)}))),!1),e&&n.readAsDataURL(e)}}}),[e]),{data:f,fileIsUplading:l}}(K),W=U.data,Z=U.fileIsUplading,$=Object(m.useToasts)().addToast;Object(a.useEffect)((function(){return P(!!Z)}),[Z]),Object(a.useEffect)((function(){return(null===W||void 0===W?void 0:W.responseEquation)&&l(null===W||void 0===W?void 0:W.responseEquation)}),[W]);var _=function(e){return e>=0&&e<(null===D||void 0===D?void 0:D.length)&&I(e)},G=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return $("Prosimo vnesite izraz!",H("error")),e.abrupt("return");case 3:return P(!0),e.next=6,h.buildJsonTree(n);case 6:if(!(t=e.sent).data.error){e.next=11;break}$(t.data.error,H("error")),e.next=16;break;case 11:return N(t.data.base),I(0),e.next=15,y(1e3);case 15:$("Izraz je bil uspe\u0161no pretvorjen v binarno drevo!",H("success"));case 16:P(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){return{appearance:e,autoDismiss:!0,autoDismissTimeout:2500}};function Q(e){return X.apply(this,arguments)}function X(){return(X=Object(u.a)(s.a.mark((function e(t){var n=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((!(n.length>1&&void 0!==n[1])||n[1])&&(p(!0),$("Re\u0161evanje v teku!",H("info"))),!(t>=0&&t<(null===D||void 0===D?void 0:D.length))){e.next=9;break}return I(t),e.next=6,y(1e3);case 6:Q(t+1,!1),e.next=13;break;case 9:return $("Izraz je bil uspe\u0161no re\u0161en; rezultat: ".concat(T.toFixed(2)),H("success")),e.next=12,y(2500);case 12:p(!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){var t=D[e]||{},n=t.equation,a=t.description,l=t.stepEquation,c=e+1<=(null===D||void 0===D?void 0:D.length)-1?"".concat(e+1,"/").concat((null===D||void 0===D?void 0:D.length)-1):"Konec";return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{icon:"info-circle",label:"Korak:",val:c}),r.a.createElement(w,{icon:"caret-right",label:"Vmesni korak:",val:a,mathFont:!0}),r.a.createElement(w,{icon:"caret-right",label:"Izra\u010dun:",val:n}),r.a.createElement(w,{icon:"caret-right",label:"Stanje izraza:",val:l}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement((function(){return r.a.createElement(i.m,{isOpen:E,toggle:function(){return j(!E)},size:"lg"},r.a.createElement(i.o,{toggle:function(){return j(!E)}},r.a.createElement(i.h,{icon:"list-ol"})," Postopek re\u0161evanja"),r.a.createElement(i.n,null,r.a.createElement(i.k,{style:{width:"100%"}},r.a.createElement(i.l,{active:!0,href:"#"},r.a.createElement("div",{className:"d-flex w-100 justify-content-between"},r.a.createElement("h5",{className:"mb-1"},r.a.createElement(i.h,{icon:"th"})," Za\u010detni ra\u010dun: ",r.a.createElement("b",null,C),r.a.createElement("p",{className:"mb-1"},r.a.createElement(i.h,{icon:"stop"})," Kon\u010dna vrednost: ",r.a.createElement("b",null,T))))),D&&Array.from(Array(D.length-1),(function(e,t){return r.a.createElement(i.l,{key:t},Y(t))})))))}),null),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",height:"80px"}},r.a.createElement(i.j,{value:n,label:"Vnesi izraz",disabled:f,onChange:function(e){return l(e.currentTarget.value)}}),r.a.createElement(i.e,{disabled:f,gradient:"aqua",onClick:function(){return M(K+1)}},r.a.createElement(i.h,{icon:"upload"})),r.a.createElement(i.e,{disabled:f,gradient:"blue",onClick:G},r.a.createElement(i.h,{icon:"equals"}))),r.a.createElement("div",null,(null===D||void 0===D?void 0:D.length)&&!R?r.a.createElement(i.b,{type:"bounce",className:"panel"},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",background:"#ffffff55",padding:"10px"}},r.a.createElement((function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",padding:10}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"80%"}},r.a.createElement(w,{icon:"angle-right",label:"Vne\u0161en izraz:",val:C}),r.a.createElement(w,{icon:"angle-right",label:"VSAE format:",val:z}),r.a.createElement(w,{icon:"angle-right",label:"Kon\u010dni rezultat:",val:T})),r.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse",width:"20%"}},r.a.createElement(i.f,{className:"mr-2"},r.a.createElement(i.e,{disabled:f,color:"mdb-color",onClick:function(){return j(!0)}},r.a.createElement(i.h,{icon:"list-ol"})))),r.a.createElement("hr",{style:{borderTop:"1px solid black"}}))}),null),r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"calc(100%-20px)",height:1,background:"#aaa"}}),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",padding:10}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"70%"}},Y(A)),r.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse",width:"30%"}},r.a.createElement(i.f,{className:"mr-2"},r.a.createElement(i.e,{disabled:f,color:"mdb-color",onClick:function(){return _(A-1)}},r.a.createElement(i.h,{icon:"angle-double-left"})),r.a.createElement(i.e,{disabled:f,color:"mdb-color",onClick:function(){return Q(A+1)}},r.a.createElement(i.h,{icon:"calculator"})),r.a.createElement(i.e,{disabled:f,color:"mdb-color",onClick:function(){return _(A+1)}},r.a.createElement(i.h,{icon:"angle-double-right"})))),r.a.createElement("hr",{style:{borderTop:"1px solid black"}})))}),null))):R&&r.a.createElement(x,null),r.a.createElement("hr",null)),(null===D||void 0===D?void 0:D.length)&&!R?r.a.createElement(g,{treeForBuild:D[A].tree}):null)},k=function(){return r.a.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:-1}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"},r.a.createElement("path",{fill:"#0099ff",fillOpacity:"1",d:"M0,96L60,101.3C120,107,240,117,360,112C480,107,600,85,720,69.3C840,53,960,43,1080,69.3C1200,96,1320,160,1380,192L1440,224L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z"})))},O=n(56),S=n.n(O),C=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement(i.g,null,r.a.createElement(i.c,{light:!0,className:"header"},r.a.createElement("img",{src:S.a,style:{height:60,marginRight:40},alt:"VSAE"}),r.a.createElement(i.d,{icon:"file",onClick:function(){window.open("https://github.com/JanezSedeljsak/vsae/blob/master/README.md","_blank")}},"Dokumentacija"))),r.a.createElement("div",{className:"content"},r.a.createElement(j,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(107),n(108),n(109);c.a.render(r.a.createElement((function(){return r.a.createElement(m.ToastProvider,null,r.a.createElement(C,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},56:function(e,t,n){e.exports=n.p+"static/media/header-img.649e9fa6.png"},58:function(e,t,n){e.exports=n(110)},63:function(e,t,n){}},[[58,1,2]]]);
//# sourceMappingURL=main.b5cc44ce.chunk.js.map